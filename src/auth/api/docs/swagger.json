{
    "swagger": "2.0",
    "info": {
        "contact": {}
    },
    "paths": {
        "/departments": {
            "get": {
                "tags": [
                    "部门"
                ],
                "summary": "列出所有部门",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "过滤条件",
                        "name": "query",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "排序字段(多个间逗号分割)",
                        "name": "order_by",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页数",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页尺寸",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"departments\":[{\"id\":2,\"name\":\"root\",\"parent_id\":null,\"created_at\":\"2021-01-21 15:10:26\",\"updated_at\":\"2021-01-21 15:10:26\"},{\"id\":5,\"name\":\"sub2\",\"parent_id\":2,\"created_at\":\"2021-01-21 15:11:07\",\"updated_at\":\"2021-01-21 15:11:07\"}],\"message\":\"Success\",\"page\":1,\"page_size\":50,\"pages\":1,\"total\":2}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "部门"
                ],
                "summary": "更新部门",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "部门ID",
                        "name": "department_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.Department"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"department\":{\"id\":4,\"name\":\"sub_dept3\",\"parent_id\":2,\"created_at\":\"2021-01-21 15:11:00\",\"updated_at\":\"2021-01-21 15:11:00\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "部门"
                ],
                "summary": "新建部门",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.Department"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"department\":{\"id\":4,\"name\":\"sub_dept3\",\"parent_id\":2,\"created_at\":\"2021-01-21 15:11:00\",\"updated_at\":\"2021-01-21 15:11:00\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/departments/tree": {
            "get": {
                "tags": [
                    "部门"
                ],
                "summary": "以树结构列出所有部门",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"tree\":{\"id\":2,\"name\":\"root\",\"sub_department\":[{\"id\":4,\"name\":\"sub1\",\"sub_department\":[],\"created_at\":\"2021-01-21 15:11:00\",\"updated_at\":\"2021-01-21 15:11:00\"},{\"id\":5,\"name\":\"sub2\",\"sub_department\":[],\"created_at\":\"2021-01-21 15:11:07\",\"updated_at\":\"2021-01-21 15:11:07\"},{\"id\":6,\"name\":\"sub3\",\"sub_department\":[{\"id\":9,\"name\":\"sub3_1\",\"sub_department\":[],\"created_at\":\"2021-02-19 03:17:30\",\"updated_at\":\"2021-02-19 03:17:33\"}],\"created_at\":\"2021-01-21 15:11:10\",\"updated_at\":\"2021-01-21 15:11:10\"},{\"id\":8,\"name\":\"sub1_1\",\"sub_department\":[],\"created_at\":\"2021-01-21 15:11:34\",\"updated_at\":\"2021-01-22 10:53:13\"}],\"created_at\":\"2021-01-21 15:10:26\",\"updated_at\":\"2021-01-21 15:10:26\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/departments/{department_id}": {
            "delete": {
                "tags": [
                    "部门"
                ],
                "summary": "删除部门",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "部门ID",
                        "name": "department_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/departments/{department_id}/tree": {
            "get": {
                "tags": [
                    "部门"
                ],
                "summary": "列出指定部门子树",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "部门ID",
                        "name": "department_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"tree\":{\"id\":6,\"name\":\"sub3\",\"sub_department\":[{\"id\":9,\"name\":\"sub3_1\",\"sub_department\":[],\"created_at\":\"2021-02-19 03:17:30\",\"updated_at\":\"2021-02-19 03:17:33\"}],\"created_at\":\"2021-01-21 15:11:10\",\"updated_at\":\"2021-01-21 15:11:10\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/departments/{department_id}/users": {
            "get": {
                "tags": [
                    "部门"
                ],
                "summary": "列出部门中所有用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "部门ID",
                        "name": "department_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"users\":[{\"id\":4,\"username\":\"test2\",\"is_owner\":false,\"joined_at\":\"2021-01-20 11:01:16\"},{\"id\":3,\"username\":\"test\",\"is_owner\":true,\"joined_at\":\"2021-01-20 11:01:32\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "部门"
                ],
                "summary": "添加用户至部门",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "部门ID",
                        "name": "department_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UserDepartment"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/departments/{department_id}/users/{user_id}": {
            "put": {
                "tags": [
                    "部门"
                ],
                "summary": "设置用户是否是部门Owner",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "部门ID",
                        "name": "department_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/form.IsOwnerForm"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "部门"
                ],
                "summary": "移除部门中用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "部门ID",
                        "name": "department_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/groups": {
            "get": {
                "tags": [
                    "组"
                ],
                "summary": "列出所有组",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "过滤条件",
                        "name": "query",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "排序字段(多个间逗号分割)",
                        "name": "order_by",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页数",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页尺寸",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"groups\":[{\"id\":1,\"name\":\"group1\",\"description\":\"group1\",\"created_at\":\"2021-01-21 11:20:29\",\"updated_at\":\"2021-01-21 11:20:29\"}],\"message\":\"Success\",\"page\":1,\"page_size\":50,\"pages\":1,\"total\":1}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "组"
                ],
                "summary": "新建组",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.Group"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"group\":{\"id\":1,\"name\":\"group1\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/groups/{group_id}": {
            "put": {
                "tags": [
                    "组"
                ],
                "summary": "更新组",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "组ID",
                        "name": "group_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.Group"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"group\":{\"id\":1,\"name\":\"group_rename\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "组"
                ],
                "summary": "删除组",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "组ID",
                        "name": "group_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/groups/{group_id}/users": {
            "get": {
                "tags": [
                    "组"
                ],
                "summary": "列出角色所有用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "组ID",
                        "name": "group_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"users\":[{\"id\":4,\"username\":\"test2\",\"is_owner\":false,\"joined_at\":\"2021-01-20 11:01:16\"},{\"id\":3,\"username\":\"test\",\"is_owner\":true,\"joined_at\":\"2021-01-20 11:01:32\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "组"
                ],
                "summary": "添加用户至组",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "组ID",
                        "name": "group_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UserGroup"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/groups/{group_id}/users/{user_id}": {
            "put": {
                "tags": [
                    "组"
                ],
                "summary": "设置用户是否是组Owner",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "组ID",
                        "name": "product_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/form.IsOwnerForm"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "组"
                ],
                "summary": "移除组中用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "组ID",
                        "name": "group_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/heartbeat": {
            "post": {
                "tags": [
                    "登录"
                ],
                "summary": "心跳（续期Token）",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/login": {
            "post": {
                "tags": [
                    "登录"
                ],
                "summary": "登录",
                "parameters": [
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/form.LoginForm"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"token\":\"2acff1bc1de905d67c1312aa97699dd70c74ade1ad4efb831462ed5122e7d404\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/logout": {
            "delete": {
                "tags": [
                    "登录"
                ],
                "summary": "登出（销毁Token）",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/products": {
            "get": {
                "tags": [
                    "产品线"
                ],
                "summary": "列出所有产品线",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "过滤条件",
                        "name": "query",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "排序字段(多个间逗号分割)",
                        "name": "order_by",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页数",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页尺寸",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"page\":1,\"page_size\":50,\"pages\":1,\"products\":[{\"id\":1,\"name\":\"prodtct2\",\"alias\":\"p2\",\"disabled\":false,\"description\":\"1233\",\"created_at\":\"2021-01-19 15:10:35\",\"updated_at\":\"2021-01-19 15:10:35\"}],\"total\":1}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "产品线"
                ],
                "summary": "新建产品线",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.Product"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"product\":{\"id\":2,\"name\":\"new_role\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/products/{product_id}": {
            "put": {
                "tags": [
                    "产品线"
                ],
                "summary": "更新产品线",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "产品线ID",
                        "name": "product_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.Product"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"product\":{\"id\":2,\"name\":\"new_role\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "产品线"
                ],
                "summary": "删除产品线",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "产品线ID",
                        "name": "product_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/products/{product_id}/users": {
            "get": {
                "tags": [
                    "产品线"
                ],
                "summary": "列出产品线所有用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "产品线ID",
                        "name": "product_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"users\":[{\"id\":4,\"username\":\"test2\",\"is_owner\":false,\"joined_at\":\"2021-01-20 11:01:16\"},{\"id\":3,\"username\":\"test\",\"is_owner\":true,\"joined_at\":\"2021-01-20 11:01:32\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "产品线"
                ],
                "summary": "添加用户至产品线",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "产品线ID",
                        "name": "product_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UserProduct"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/products/{product_id}/users/{user_id}": {
            "put": {
                "tags": [
                    "产品线"
                ],
                "summary": "设置用户是否是产品线Owner",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "产品线ID",
                        "name": "product_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/form.IsOwnerForm"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "产品线"
                ],
                "summary": "移除产品线中用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "产品线ID",
                        "name": "product_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/roles": {
            "get": {
                "tags": [
                    "角色"
                ],
                "summary": "列出所有角色",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "过滤条件",
                        "name": "query",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "排序字段(多个间逗号分割)",
                        "name": "order_by",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页数",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页尺寸",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"page\":1,\"page_size\":50,\"pages\":1,\"roles\":[{\"id\":1,\"name\":\"auth_admin\"},{\"id\":2,\"name\":\"tester\"}],\"total\":2}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "角色"
                ],
                "summary": "新建角色",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.Role"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"role\":{\"id\":2,\"name\":\"new_role\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/roles/{role_id}": {
            "put": {
                "tags": [
                    "角色"
                ],
                "summary": "更新角色",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "角色ID",
                        "name": "role_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.Role"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"role\":{\"id\":2,\"name\":\"tester\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "角色"
                ],
                "summary": "删除角色",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "角色ID",
                        "name": "role_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/roles/{role_id}/users": {
            "get": {
                "tags": [
                    "角色"
                ],
                "summary": "列出角色所有用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "角色ID",
                        "name": "role_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "角色"
                ],
                "summary": "添加用户至角色",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "角色ID",
                        "name": "role_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.UserRole"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/roles/{role_id}/users/{user_id}": {
            "delete": {
                "tags": [
                    "角色"
                ],
                "summary": "移除角色中用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "角色ID",
                        "name": "role_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/token/content": {
            "get": {
                "tags": [
                    "登录"
                ],
                "summary": "获得TokenContent",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"content\":{\"groups\":[],\"is_superuser\":false,\"own_groups\":[],\"own_products\":[{\"id\":2,\"name\":\"scm\",\"alias\":\"scm\",\"disabled\":false}],\"products\":[],\"roles\":[\"auth_admin\",\"tester\"],\"user_id\":3,\"username\":\"test\"},\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/users": {
            "get": {
                "tags": [
                    "用户"
                ],
                "summary": "列出所有用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "过滤条件",
                        "name": "query",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "排序字段(多个间逗号分割)",
                        "name": "order_by",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页数",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "页尺寸",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"page\":1,\"page_size\":50,\"pages\":1,\"users\":[{\"id\":1,\"username\":\"username\",\"email\":\"email\",\"phone\":\"phone\",\"is_superuser\":false,\"disabled\":false,\"last_login\":null,\"created_at\":\"2021-01-08 10:57:27\",\"updated_at\":\"2021-01-26 11:31:24\"}],\"total\":1}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/users/{user_id}": {
            "put": {
                "tags": [
                    "用户"
                ],
                "summary": "更新用户",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "body",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.User"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"user\":{\"id\":1,\"username\":\"username\",\"email\":\"email\",\"phone\":\"phone\",\"is_superuser\":false,\"disabled\":false,\"last_login\":null,\"created_at\":\"2021-01-08 10:57:27\",\"updated_at\":\"2021-01-26 11:31:24\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/users/{user_id}/department": {
            "get": {
                "tags": [
                    "用户"
                ],
                "summary": "获得用户所在部门（一个用户只能在一个部门）",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"departments\":{\"id\":2,\"name\":\"dept2\",\"is_owner\":true,\"joined_at\":\"2021-01-21 11:20:56\"},\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/users/{user_id}/groups": {
            "get": {
                "tags": [
                    "用户"
                ],
                "summary": "列出用户所在组",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"groups\":[{\"id\":2,\"name\":\"group2\",\"is_owner\":true,\"joined_at\":\"2021-01-21 11:20:56\"}],\"message\":\"Success\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/users/{user_id}/products": {
            "get": {
                "tags": [
                    "用户"
                ],
                "summary": "列出用户所在产品线",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"products\":[{\"id\":3,\"name\":\"SCM\",\"is_owner\":false,\"joined_at\":\"0001-01-01 00:00:00\",\"alias\":\"scm\",\"disable\":false}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/users/{user_id}/roles": {
            "get": {
                "tags": [
                    "用户"
                ],
                "summary": "列出用户所在角色",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Token",
                        "name": "token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "用户ID",
                        "name": "user_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":0,\"message\":\"Success\",\"roles\":[{\"id\":1,\"name\":\"auth_admin\"},{\"id\":2,\"name\":\"tester\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "form.IsOwnerForm": {
            "type": "object",
            "required": [
                "is_owner"
            ],
            "properties": {
                "is_owner": {
                    "type": "boolean"
                }
            }
        },
        "form.LoginForm": {
            "type": "object",
            "required": [
                "password",
                "username"
            ],
            "properties": {
                "password": {
                    "type": "string"
                },
                "username": {
                    "type": "string"
                }
            }
        },
        "model.Department": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string"
                },
                "parent_id": {
                    "type": "integer"
                }
            }
        },
        "model.Group": {
            "type": "object",
            "required": [
                "description",
                "name"
            ],
            "properties": {
                "description": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "model.Product": {
            "type": "object",
            "required": [
                "alias",
                "description",
                "disabled",
                "name"
            ],
            "properties": {
                "alias": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "disabled": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "model.Role": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string"
                }
            }
        },
        "model.User": {
            "type": "object",
            "required": [
                "email",
                "phone"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "phone": {
                    "type": "string"
                }
            }
        },
        "model.UserDepartment": {
            "type": "object",
            "required": [
                "is_owner",
                "user_id"
            ],
            "properties": {
                "is_owner": {
                    "type": "boolean"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "model.UserGroup": {
            "type": "object",
            "required": [
                "is_owner",
                "user_id"
            ],
            "properties": {
                "is_owner": {
                    "type": "boolean"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "model.UserProduct": {
            "type": "object",
            "required": [
                "is_owner",
                "user_id"
            ],
            "properties": {
                "is_owner": {
                    "type": "boolean"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "model.UserRole": {
            "type": "object",
            "required": [
                "user_id"
            ],
            "properties": {
                "user_id": {
                    "type": "integer"
                }
            }
        }
    }
}